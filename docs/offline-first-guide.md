# üì± **OFFLINE-FIRST –ö–≠–®–ò–†–û–í–ê–ù–ò–ï: –ü–û–î–†–û–ë–ù–û–ï –û–ë–™–Ø–°–ù–ï–ù–ò–ï**

## üéØ **–ß–¢–û –≠–¢–û –¢–ê–ö–û–ï?**

**Offline-first** ‚Äî —ç—Ç–æ –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º **–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**, –∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ–æ–Ω–µ.

### **–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:**

–í–º–µ—Å—Ç–æ —Å—Ö–µ–º—ã:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ó–∞–ø—Ä–æ—Å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Üí –û—Ç–≤–µ—Ç —Å —Å–µ—Ä–≤–µ—Ä–∞ ‚Üí –ü–æ–∫–∞–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ö–µ–º–∞:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ü–æ–∫–∞–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞ ‚Üí –ó–∞–ø—Ä–æ—Å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (—Ñ–æ–Ω) ‚Üí –û–±–Ω–æ–≤–∏—Ç—å –∫—ç—à
```

---

## üöÄ **–ó–ê–ß–ï–ú –≠–¢–û –ù–£–ñ–ù–û?**

### **1Ô∏è‚É£ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (Instant Loading)**

**–ü—Ä–æ–±–ª–µ–º–∞:**

```dart
// –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥
@override
void initState() {
  super.initState();
  Future.microtask(() {
    ref.read(lentaProvider(userId).notifier).loadInitial();
  });
}

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:
// 1-3 —Å–µ–∫—É–Ω–¥—ã: ‚è≥ CircularProgressIndicator
// –ü–æ—Ç–æ–º: üì± –õ–µ–Ω—Ç–∞ —Å –ø–æ—Å—Ç–∞–º–∏
```

**–° Offline-first:**

```dart
@override
void initState() {
  super.initState();
  // –°—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (0.05 —Å–µ–∫)
  // –í —Ñ–æ–Ω–µ –æ–±–Ω–æ–≤–ª—è–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞ (1-3 —Å–µ–∫)
}

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:
// 0.05 —Å–µ–∫: üì± –õ–µ–Ω—Ç–∞ —Å –ø–æ—Å—Ç–∞–º–∏ (–∏–∑ –∫—ç—à–∞)
// 1-3 —Å–µ–∫: üîÑ –ë–µ—Å—à–æ–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤
```

**–†–∞–∑–Ω–∏—Ü–∞ –≤ UX:**

- ‚ùå –ë–µ–∑ –∫—ç—à–∞: 3 —Å–µ–∫—É–Ω–¥—ã –æ–∂–∏–¥–∞–Ω–∏—è ‚Üí —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ
- ‚úÖ –° –∫—ç—à–µ–º: –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ä–∞–∑—É ‚Üí –∫–æ–º—Ñ–æ—Ä—Ç

---

### **2Ô∏è‚É£ –†–∞–±–æ—Ç–∞ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞**

**–°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è PaceUp:**

#### **–ê) –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π:**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –º–µ—Ç—Ä–æ (–Ω–µ—Ç —Å–µ—Ç–∏) ‚Üí –û—Ç–∫—Ä—ã–≤–∞–µ—Ç PaceUp
‚ùå –ë–µ–∑ –∫—ç—à–∞: "–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É" ‚Üí –∑–∞–∫—Ä—ã–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚úÖ –° –∫—ç—à–µ–º: –í–∏–¥–∏—Ç –≤—á–µ—Ä–∞—à–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∫–∞—Ä—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
```

#### **–ë) –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞:**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ñ–∏–Ω–∏—à–∏—Ä–æ–≤–∞–ª –∑–∞–±–µ–≥ ‚Üí –ù–µ—Ç —Å–∏–≥–Ω–∞–ª–∞ –Ω–∞ —Å—Ç–∞–¥–∏–æ–Ω–µ
‚ùå –ë–µ–∑ –∫—ç—à–∞: "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å" ‚Üí –ø–æ—Ç–µ—Ä—è–ª –º–æ—Ç–∏–≤–∞—Ü–∏—é
‚úÖ –° –∫—ç—à–µ–º: –ü–æ—Å—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Å–µ—Ç–∏
```

#### **–í) –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è:**

```
–ê–≤–∏–∞—Ä–µ–∂–∏–º –≤–∫–ª—é—á–µ–Ω
‚ùå –ë–µ–∑ –∫—ç—à–∞: –ü—É—Å—Ç–æ–π —ç–∫—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—è
‚úÖ –° –∫—ç—à–µ–º: –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —Ñ–æ—Ç–æ, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã
```

---

### **3Ô∏è‚É£ –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –∏ –¥–µ–Ω–µ–≥**

**–ü—Ä–æ–±–ª–µ–º–∞:**

```dart
// –ö–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–≥—Ä—É–∂–∞–µ–º –≤—Å—ë –∑–∞–Ω–æ–≤–æ
LentaScreen –æ—Ç–∫—Ä—ã—Ç ‚Üí 500 KB –¥–∞–Ω–Ω—ã—Ö
–ó–∞–∫—Ä—ã–ª ‚Üí –û—Ç–∫—Ä—ã–ª —Å–Ω–æ–≤–∞ ‚Üí –µ—â—ë 500 KB
10 —Ä–∞–∑ –≤ –¥–µ–Ω—å = 5 MB
–ú–µ—Å—è—Ü = 150 MB
–ì–æ–¥ = ~1.8 GB —Ç–æ–ª—å–∫–æ –Ω–∞ –ª–µ–Ω—Ç—É!
```

**–° –∫—ç—à–µ–º:**

```dart
–ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞: 500 KB (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ)
–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ: 20-50 KB (—Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –ø–æ—Å—Ç—ã)
–ú–µ—Å—è—Ü: ~20-30 MB
–ì–æ–¥: ~300 MB ‚Üí —ç–∫–æ–Ω–æ–º–∏—è 83%!
```

---

### **4Ô∏è‚É£ –ü–ª–∞–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–∏ –ø–ª–æ—Ö–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏**

**–†–µ–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –ø—Ä–æ–±–µ–∂–∫–µ:
‚îú‚îÄ –ö–∏–ª–æ–º–µ—Ç—Ä 1: 4G —Å–∏–≥–Ω–∞–ª üí™
‚îú‚îÄ –ö–∏–ª–æ–º–µ—Ç—Ä 2: 3G —Å–∏–≥–Ω–∞–ª üì∂
‚îú‚îÄ –ö–∏–ª–æ–º–µ—Ç—Ä 3: EDGE —Å–∏–≥–Ω–∞–ª üìâ
‚îî‚îÄ –ö–∏–ª–æ–º–µ—Ç—Ä 4: –í—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ—Ç —Å–µ—Ç–∏ ‚ùå

‚ùå –ë–µ–∑ –∫—ç—à–∞:
- –ö–º 1: –†–∞–±–æ—Ç–∞–µ—Ç
- –ö–º 2: –¢–æ—Ä–º–æ–∑–∏—Ç
- –ö–º 3: –û—á–µ–Ω—å —Ç–æ—Ä–º–æ–∑–∏—Ç
- –ö–º 4: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ

‚úÖ –° –∫—ç—à–µ–º:
- –í—Å–µ –∫–∏–ª–æ–º–µ—Ç—Ä—ã: –†–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ!
- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—ç—à + —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ
```

---

### **5Ô∏è‚É£ –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä**

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**

```
1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç–∫—Ä—ã–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚Üí 1000 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É
‚Üí –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω üî•
‚Üí –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è –≤—Å–µ—Ö
```

**–° –∫—ç—à–µ–º:**

```
1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç–∫—Ä—ã–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—ç—à (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
‚Üí 1000 —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞—Å—Ç—è–Ω—É—Ç—ã –≤–æ –≤—Ä–µ–º–µ–Ω–∏
‚Üí –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ ‚úÖ
```

---

## üí° **–ö–û–ù–ö–†–ï–¢–ù–´–ï –ü–†–ò–ú–ï–†–´ –î–õ–Ø PACEUP**

### **–ü—Ä–∏–º–µ—Ä 1: –õ–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π**

**–ë–µ–∑ –∫—ç—à–∞:**

```dart
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ª–µ–Ω—Ç—É:
1. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è CircularProgressIndicator (2-3 —Å–µ–∫)
2. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è 5 –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π —Å —Å–µ—Ä–≤–µ—Ä–∞
3. –î–ª—è –∫–∞–∂–¥–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–µ—â–µ 3-5 —Å–µ–∫)
4. –ò—Ç–æ–≥–æ: 5-8 —Å–µ–∫—É–Ω–¥ –¥–æ –ø–æ–∫–∞–∑–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

–ó–∞–∫—Ä—ã–ª ‚Üí –û—Ç–∫—Ä—ã–ª —Å–Ω–æ–≤–∞:
‚Üí –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è!
```

**–° –∫—ç—à–µ–º:**

```dart
–ü–µ—Ä–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ:
1. –°—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ 5 –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –∏–∑ –∫—ç—à–∞ (0.05 —Å–µ–∫)
2. –í —Ñ–æ–Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—ã–µ (2-3 —Å–µ–∫)
3. –ü–ª–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É
4. –ò—Ç–æ–≥–æ: –∫–æ–Ω—Ç–µ–Ω—Ç –≤–∏–¥–µ–Ω —Å—Ä–∞–∑—É, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–∑–∞–º–µ—Ç–Ω–æ

–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è:
1. –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑ (0.05 —Å–µ–∫)
2. –§–æ–Ω–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```

---

### **–ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

**–°—Ü–µ–Ω–∞—Ä–∏–π:**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–æ—Ç—Ä–∏—Ç —Å–≤–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
- –û–±—â–∏–π –∫–∏–ª–æ–º–µ—Ç—Ä–∞–∂: 342 –∫–º
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ
- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

–°–µ–≥–æ–¥–Ω—è –¥–æ–±–µ–∂–∞–ª –µ—â–µ 5 –∫–º:
- –û–±—â–∏–π –∫–∏–ª–æ–º–µ—Ç—Ä–∞–∂ –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å: 347 –∫–º
```

**–ë–µ–∑ –∫—ç—à–∞:**

```
–ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞:
- –û—Ç–∫—Ä—ã–ª –ø—Ä–æ—Ñ–∏–ª—å ‚Üí 2 —Å–µ–∫ –∑–∞–≥—Ä—É–∑–∫–∏
- –ó–∞–∫—Ä—ã–ª ‚Üí –û—Ç–∫—Ä—ã–ª ‚Üí —Å–Ω–æ–≤–∞ 2 —Å–µ–∫

–ò—Ç–æ–≥–æ: 10 –æ—Ç–∫—Ä—ã—Ç–∏–π = 20 —Å–µ–∫—É–Ω–¥ –≤–ø—É—Å—Ç—É—é
```

**–° –∫—ç—à–µ–º + –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**

```
1. –ü–æ—Å–ª–µ –ø—Ä–æ–±–µ–∂–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º 5 –∫–º –ª–æ–∫–∞–ª—å–Ω–æ
2. –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º 347 –∫–º –≤ UI
3. –í —Ñ–æ–Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º —Å —Å–µ—Ä–≤–µ—Ä–æ–º
4. –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç ‚Üí –≤—Å—ë –û–ö
5. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Üí –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º –∫ 342 –∫–º
```

---

### **–ü—Ä–∏–º–µ—Ä 3: –ú–∞—Ä—à—Ä—É—Ç—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫**

**–ü—Ä–æ–±–ª–µ–º–∞:**

```
–ú–∞—Ä—à—Ä—É—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ = –º–∞—Å—Å–∏–≤ –∏–∑ 1000+ GPS —Ç–æ—á–µ–∫
–†–∞–∑–º–µ—Ä: ~50-100 KB JSON
```

**–ë–µ–∑ –∫—ç—à–∞:**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:
1. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è 100 KB –¥–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–∞
2. –†–∏—Å—É–µ—Ç—Å—è –∫–∞—Ä—Ç–∞ (2-3 —Å–µ–∫)

–ó–∞–∫—Ä—ã–ª ‚Üí –û—Ç–∫—Ä—ã–ª —Å–Ω–æ–≤–∞ —Ç—É –∂–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É:
‚Üí –°–Ω–æ–≤–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è 100 KB
‚Üí –°–Ω–æ–≤–∞ 2-3 —Å–µ–∫ –æ–∂–∏–¥–∞–Ω–∏—è
```

**–° –∫—ç—à–µ–º:**

```
–ü–µ—Ä–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ:
1. –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è 100 KB
2. –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫—ç—à
3. –ö–∞—Ä—Ç–∞ —Ä–∏—Å—É–µ—Ç—Å—è (2-3 —Å–µ–∫)

–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è:
1. –î–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞ (0.01 —Å–µ–∫)
2. –ö–∞—Ä—Ç–∞ —Ä–∏—Å—É–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
```

---

## üèóÔ∏è **–ö–ê–ö –≠–¢–û –†–ï–ê–õ–ò–ó–£–ï–¢–°–Ø?**

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Offline-first –¥–ª—è PaceUp:**

```dart
// 1. –î–æ–±–∞–≤–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
dependencies:
  hive: ^2.2.3                    # NoSQL –±–∞–∑–∞ –¥–ª—è Flutter
  hive_flutter: ^1.1.0
  path_provider: ^2.1.2

// 2. –°–æ–∑–¥–∞—ë–º –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π
@HiveType(typeId: 0)
class Activity {
  @HiveField(0)
  final int id;
  
  @HiveField(1)
  final String type;
  
  @HiveField(2)
  final DateTime? dateStart;
  
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}

// 3. –û–±–Ω–æ–≤–ª—è–µ–º LentaNotifier
class LentaNotifier extends StateNotifier<LentaState> {
  final ApiService _api;
  final Box<Activity> _cacheBox;  // ‚Üê –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
  
  Future<void> loadInitial() async {
    // 1. –°—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—ç—à
    final cached = _cacheBox.values.toList();
    if (cached.isNotEmpty) {
      state = state.copyWith(items: cached, isLoading: false);
    }
    
    // 2. –í —Ñ–æ–Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞
    try {
      final fresh = await _loadActivities(page: 1, limit: 5);
      
      // 3. –û–±–Ω–æ–≤–ª—è–µ–º –∫—ç—à
      await _cacheBox.clear();
      await _cacheBox.addAll(fresh);
      
      // 4. –û–±–Ω–æ–≤–ª—è–µ–º UI
      state = state.copyWith(items: fresh, isRefreshing: false);
    } catch (e) {
      // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏ - –Ω–µ —Å—Ç—Ä–∞—à–Ω–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—ç—à
      if (cached.isNotEmpty) {
        state = state.copyWith(error: '–ü–æ–∫–∞–∑–∞–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ');
      } else {
        state = state.copyWith(error: e.toString());
      }
    }
  }
}
```

---

## üìä **–°–†–ê–í–ù–ï–ù–ò–ï: –î–û vs –ü–û–°–õ–ï**

### **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**

| –°—Ü–µ–Ω–∞—Ä–∏–π | –ë–µ–∑ –∫—ç—à–∞ | –° –∫—ç—à–µ–º | –£–ª—É—á—à–µ–Ω–∏–µ |
|---|---|---|---|
| –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ª–µ–Ω—Ç—ã | 2.5 —Å–µ–∫ | 2.5 —Å–µ–∫ | 0% |
| –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ | 2.5 —Å–µ–∫ | **0.05 —Å–µ–∫** | **98%** ‚ö° |
| –†–∞–±–æ—Ç–∞ –±–µ–∑ —Å–µ—Ç–∏ | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | +‚àû |
| –¢—Ä–∞—Ñ–∏–∫ –∑–∞ –º–µ—Å—è—Ü | 150 MB | **25 MB** | **83%** üí∞ |
| –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä | 100% | **15-20%** | **80-85%** üéØ |

---

## üéØ **–ö–û–ì–î–ê –≠–¢–û –ö–†–ò–¢–ò–ß–ù–û –î–õ–Ø PACEUP?**

### **High Priority (–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):**

1. ‚úÖ **–õ–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π** ‚Äî –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω, —á–∞—Å—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
2. ‚úÖ **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ
3. ‚úÖ **–ú–∞—Ä—à—Ä—É—Ç—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫** ‚Äî —Ç—è–∂–µ–ª—ã–µ –¥–∞–Ω–Ω—ã–µ (GPS —Ç–æ—á–∫–∏)

### **Medium Priority (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):**

4. ‚ö° **–°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π/–ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤**
5. ‚ö° **–°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ** ‚Äî —Ä–µ–¥–∫–æ –º–µ–Ω—è–µ—Ç—Å—è
6. ‚ö° **–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è/–Ω–∞–≥—Ä–∞–¥—ã**

### **Low Priority (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**

7. üìå **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** ‚Äî –Ω—É–∂–Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å
8. üìå **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Äî –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å real-time
9. üìå **–ß–∞—Ç** ‚Äî —Ç—Ä–µ–±—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

---

## ‚ö†Ô∏è **–ö–û–ì–î–ê –ö–≠–®–ò–†–û–í–ê–ù–ò–ï –ù–ï –ù–£–ñ–ù–û:**

1. **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ real-time –¥–∞–Ω–Ω—ã–µ:**
   - –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è –Ω–∞ –∫–∞—Ä—Ç–µ –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–±–µ–∂–∫–∏
   - Live —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π
   - –û–Ω–ª–∞–π–Ω —á–∞—Ç

2. **–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
   - –ü–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SecureStorage)
   - –ü–ª–∞—Ç—ë–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

3. **–†–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–∫—Ä–∞–Ω—ã:**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üé¨ **–í–´–í–û–î**

**Offline-first –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è PaceUp:**

‚úÖ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ**, –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. –°–ø–æ—Ä—Ç—Å–º–µ–Ω—ã —á–∞—Å—Ç–æ –≤ –¥–≤–∏–∂–µ–Ω–∏–∏ (–ø–ª–æ—Ö–∞—è —Å–µ—Ç—å)
2. –ú–∞—Ä—à—Ä—É—Ç—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ = —Ç—è–∂–µ–ª—ã–µ –¥–∞–Ω–Ω—ã–µ
3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ
4. –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
5. –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä

üí° **–ù–∞—á–Ω–∏—Ç–µ —Å:**

1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–µ–Ω—Ç—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (LentaProvider)
2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (ProfileHeaderProvider)
3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

**–≠—Ç–æ –¥–∞—Å—Ç:**

- üìà **98% —É—Å–∫–æ—Ä–µ–Ω–∏–µ** –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫
- üí∞ **83% —ç–∫–æ–Ω–æ–º–∏—è** —Ç—Ä–∞—Ñ–∏–∫–∞
- üöÄ **UX –∫–∞–∫ —É Instagram/Strava**

**–•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è –ø–æ–∫–∞–∑–∞–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞?** üîß






